import ccxt.async_support as ccxt  # Importing asynchronous version of ccxt
import asyncio
import os

# Initialize Binance client
api_key = os.environ.get('BINANCE_API_KEY')
api_secret = os.environ.get('BINANCE_API_SECRET')

binance = ccxt.binance({
    'apiKey': api_key,
    'secret': api_secret,
})

# Function to fetch futures account balance
async def get_futures_account_balance():
    futures_balance = await binance.fetch_balance(params={'type': 'future'})
    return futures_balance

# Main function (now defined as async)
async def main():
    try:
        futures_balance = await get_futures_account_balance()
        print("Futures Account Balance:")
        print(futures_balance)

    except Exception as e:
        print(f"Error fetching futures account balance: {e}")

# Run the main function
if __name__ == "__main__":
    asyncio.run(main())

